Microsoft (R) Macro Assembler Version 9.00.30729.01	    02/20/09 19:29:30
smf2mml_sub.asm						     Page 1 - 1


				;===============================================================|
				;								|
				;		
				;								|
				;					Programmed by		|
				;						------		|
				;								|
				;===============================================================|

					.586
					.model	flat,c

				;****************************************************************
				;*		プロトタイプ宣言				*
				;****************************************************************
				;●外部宣言
				printf		proto	stPrint:near32 ptr
				exit		proto	iCode:dword
				fread		proto	

				;●プロトタイプ宣言
				print_help	proto
				endian_b2l_W	proto	iValue:near32 ptr
				endian_b2l_D	proto	iValue:near32 ptr

 00000000			.code

				;===============================================================|
				;		Big Endian -> Little Endian			|
				;---------------------------------------------------------------|
				;	●引数							|
				;		iValue:near32 ptr	変数のポインタ		|
				;	●引数							|
				;		無し						|
				;===============================================================|
 00000000			endian_b2l_W	proc	uses eax esi,		iValue:near32 ptr
 00000000  55		   *	    push   ebp
 00000001  8B EC	   *	    mov    ebp, esp
 00000003  50		   *	    push   eax
 00000004  56		   *	    push   esi
 00000005  8B 75 08			mov	esi,iValue
 00000008  66| 8B 06			mov	ax,[esi]
 0000000B  86 C4			xchg	al,ah
 0000000D  66| 89 06			mov	[esi],ax
					ret
 00000010  5E		   *	    pop    esi
 00000011  58		   *	    pop    eax
 00000012  C9		   *	    leave  
 00000013  C3		   *	    ret    00000h
 00000014			endian_b2l_W	endp
				;===============================================================|
				;		Big Endian -> Little Endian			|
				;---------------------------------------------------------------|
				;	●引数							|
				;		iValue:near32 ptr	変数のポインタ		|
				;	●引数							|
				;		無し						|
				;===============================================================|
 00000014			endian_b2l_D	proc	uses eax edx esi,	iValue:near32 ptr
 00000014  55		   *	    push   ebp
 00000015  8B EC	   *	    mov    ebp, esp
 00000017  50		   *	    push   eax
 00000018  52		   *	    push   edx
 00000019  56		   *	    push   esi
 0000001A  8B 75 08			mov	esi,iValue
 0000001D  8B 06			mov	eax,[esi]
 0000001F  8B D0			mov	edx,eax
 00000021  25 0000FFFF			and	eax,0000ffffh
 00000026  C1 E2 10			shl	edx,16
 00000029  86 E0			xchg	ah,al
 0000002B  86 F2			xchg	dh,dl
 0000002D  C1 E8 10			shr	eax,16
 00000030  0B C2			or	eax,edx	
 00000032  89 06			mov	[esi],eax
					ret
 00000034  5E		   *	    pop    esi
 00000035  5A		   *	    pop    edx
 00000036  58		   *	    pop    eax
 00000037  C9		   *	    leave  
 00000038  C3		   *	    ret    00000h
 00000039			endian_b2l_D	endp
				;===============================================================|
				;		表示						|
				;---------------------------------------------------------------|
				;	●引数							|
				;		stPrint	出力文字列				|
				;	●引数							|
				;		eax	printf関数の戻り値			|
				;===============================================================|
 00000000				.const
 00000000 73 6D 66 32 6D	print_help_mes	db	"smf2mml [ファイル名(.mid)] [/H]",0ah,0dh
	   6D 6C 20 5B 83
	   74 83 40 83 43
	   83 8B 96 BC 28
	   2E 6D 69 64 29
	   5D 20 5B 2F 48
	   5D 0A 0D
 00000021  0A 0D				db	0ah,0dh
 00000023  20 20 2F 48 09			db	"  /H		ヘルプを表示します。",0ah,0dh
	   09 83 77 83 8B
	   83 76 82 F0 95
	   5C 8E A6 82 B5
	   82 DC 82 B7 81
	   42 0A 0D
 0000003F  00					db	0

 00000039				.code
 00000039			print_help	proc	uses	eax
 00000039  50		   *	    push   eax
					invoke	printf,
						offset print_help_mes
 0000003A  68 00000000 R   *	    push   dword  ptr OFFSET FLAT: print_help_mes
 0000003F  E8 00000000 E   *	    call   printf
 00000044  83 C4 04	   *	    add    esp, 000000004h
					invoke	exit,
						0
 00000047  6A 00	   *	    push   +000000000h
 00000049  E8 00000000 E   *	    call   exit
 0000004E  83 C4 04	   *	    add    esp, 000000004h
					ret
 00000051  58		   *	    pop    eax
 00000052  C3		   *	    ret    00000h
 00000053			print_help	endp
				;****************************************************************
					end
Microsoft (R) Macro Assembler Version 9.00.30729.01	    02/20/09 19:29:30
smf2mml_sub.asm						     Symbols 2 - 1




Segments and Groups:

                N a m e                 Size     Length   Align   Combine Class

CONST  . . . . . . . . . . . . .	32 Bit	 00000040 Para	  Public  'CONST'	 ReadOnly
FLAT . . . . . . . . . . . . . .	GROUP
_DATA  . . . . . . . . . . . . .	32 Bit	 00000000 Para	  Public  'DATA'	
_TEXT  . . . . . . . . . . . . .	32 Bit	 00000053 Para	  Public  'CODE'	


Procedures, parameters, and locals:

                N a m e                 Type     Value    Attr

endian_b2l_D . . . . . . . . . .	P Near	 00000014 _TEXT	Length= 00000025 Public C
  iValue . . . . . . . . . . . .	DWord	 bp + 00000008
endian_b2l_W . . . . . . . . . .	P Near	 00000000 _TEXT	Length= 00000014 Public C
  iValue . . . . . . . . . . . .	DWord	 bp + 00000008
exit . . . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External C
fread  . . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External C
print_help . . . . . . . . . . .	P Near	 00000039 _TEXT	Length= 0000001A Public C
printf . . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External C


Symbols:

                N a m e                 Type     Value    Attr

@CodeSize  . . . . . . . . . . .	Number	 00000000h   
@DataSize  . . . . . . . . . . .	Number	 00000000h   
@Interface . . . . . . . . . . .	Number	 00000001h   
@Model . . . . . . . . . . . . .	Number	 00000007h   
@code  . . . . . . . . . . . . .	Text   	 _TEXT
@data  . . . . . . . . . . . . .	Text   	 FLAT
@fardata?  . . . . . . . . . . .	Text   	 FLAT
@fardata . . . . . . . . . . . .	Text   	 FLAT
@stack . . . . . . . . . . . . .	Text   	 FLAT
print_help_mes . . . . . . . . .	Byte	 00000000 CONST	

	   0 Warnings
	   0 Errors
